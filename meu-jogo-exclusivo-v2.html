<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo com Personagem no lugar da Bola</title>
    <script src="https://cdn.jsdelivr.net/npm/p5@1/lib/p5.min.js"></script>
    <style>
        body { margin: 0; padding: 0; background-color: #1a1a2e; display: flex; justify-content: center; align-items: center; min-height: 100vh; }
    </style>
</head>
<body>
    <script>
        // Variáveis do jogo
        let personagemX, personagemY;
        let velX, velY;
        let tamanhoPersonagem = 30;
        let plataformas = [];
        let pontuacao = 0;
        let corFundoJogo = color(80, 180, 220);

        function setup() {
            createCanvas(350, 300);
            inicializarJogo();
        }

        function inicializarJogo() {
            // Posição inicial do personagem
            personagemX = tamanhoPersonagem * 2;
            personagemY = height / 2;
            
            // Velocidade inicial
            velX = 2;
            velY = -3;
            
            // Reset pontuação
            pontuacao = 0;
            
            // Criar plataformas
            plataformas = [
                { x: 20, y: height - 60, largura: 120, altura: 15 },
                { x: 180, y: height - 120, largura: 100, altura: 15 },
                { x: 80, y: height - 180, largura: 60, altura: 15 },
                { x: 220, y: height - 240, largura: 100, altura: 15 }
            ];
        }

        function draw() {
            // Fundo do jogo
            background(corFundoJogo);
            
            // Desenhar plataforma inferior (perigo)
            fill(255, 60, 30);
            rect(0, height - 20, width, 20);
            
            // Desenhar plataformas verdes
            fill(40, 200, 60);
            for (let p of plataformas) {
                rect(p.x, p.y, p.largura, p.altura);
            }
            
            // Desenhar personagem (Sonic simplificado)
            desenharSonic(personagemX, personagemY, tamanhoPersonagem);
            
            // Movimento do personagem
            personagemX += velX;
            personagemY += velY;
            
            // Gravidade
            velY += 0.2;
            
            // Colisões com bordas laterais
            if (personagemX < tamanhoPersonagem/2 || personagemX > width - tamanhoPersonagem/2) {
                velX *= -1;
            }
            
            // Colisões com teto
            if (personagemY < tamanhoPersonagem/2) {
                velY *= -1;
                pontuacao += 5; // Pontuar ao bater no teto
            }
            
            // Colisões com plataformas
            for (let p of plataformas) {
                if (
                    personagemY + tamanhoPersonagem/2 > p.y &&
                    personagemY - tamanhoPersonagem/2 < p.y + p.altura &&
                    personagemX + tamanhoPersonagem/2 > p.x &&
                    personagemX - tamanhoPersonagem/2 < p.x + p.largura
                ) {
                    velY *= -1.1; // Rebater com pouco mais de força
                    pontuacao += 1; // Pontuar ao tocar na plataforma
                }
            }
            
            // Game Over se cair na plataforma vermelha
            if (personagemY > height - 20 - tamanhoPersonagem/2) {
                fill(255);
                textSize(24);
                textAlign(CENTER, CENTER);
                text("GAME OVER!", width/2, height/2);
                textSize(16);
                text(`Pontuação: ${pontuacao}`, width/2, height/2 + 30);
                text("Clique para reiniciar", width/2, height/2 + 60);
                noLoop();
            }
            
            // Mostrar pontuação
            fill(255);
            textSize(18);
            textAlign(CENTER, CENTER);
            text(`Pontuação: ${pontuacao}`, width/2, 20);
        }

        // Função para desenhar o Sonic simplificado
        function desenharSonic(x, y, tam) {
            // Corpo azul
            fill(30, 140, 255);
            ellipse(x, y, tam, tam);
            
            // Olhos
            fill(255);
            ellipse(x - tam/6, y - tam/6, tam/3, tam/3);
            ellipse(x + tam/6, y - tam/6, tam/3, tam/3);
            
            // Pupilas
            fill(0);
            ellipse(x - tam/6, y - tam/6, tam/6, tam/6);
            ellipse(x + tam/6, y - tam/6, tam/6, tam/6);
            
            // Nariz
            fill(255, 165, 0);
            ellipse(x, y, tam/5, tam/5);
            
            // Bico
            fill(255);
            triangle(x, y + tam/10, x - tam/8, y + tam/5, x + tam/8, y + tam/5);
        }

        // Reiniciar jogo ao clicar
        function mousePressed() {
            inicializarJogo();
            loop();
        }
    </script>
</body>
</html>
