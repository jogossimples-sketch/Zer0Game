<!DOCTYPE html>
<html>
<head>
    <title>Zer0Game - Aventura da Bola!</title>
    <style>
        body { 
            margin: 0; 
            padding: 20px; 
            background: #1a1a2e; 
            display: flex; 
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            font-family: Arial;
            color: white;
        }
        canvas {
            background: linear-gradient(#87CEEB, #4682B4);
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,255,255,0.5);
        }
        #placar {
            margin-top: 15px;
            font-size: 24px;
            color: #00FFFF;
        }
    </style>
</head>
<body>
    <canvas id="jogo" width="800" height="600"></canvas>
    <div id="placar">Pontuação: 0</div>

    <script>
        // CONFIGURAÇÕES BÁSICAS
        const tela = document.getElementById('jogo');
        const pincel = tela.getContext('2d');
        const placar = document.getElementById('placar');
        let pontos = 0;
        const velJogo = 2;

        // BOLA DO JOGADOR
        const bola = {
            x: 100,
            y: 150,
            raio: 20,
            cor: '#FFD700',
            velX: 0,
            velY: 0,
            pulo: -16,
            gravidade: 0.7,
            noChao: false
        };

        // LAVA
        const lava = {
            y: 570,
            altura: 30,
            cor: '#FF4500'
        };

        // PLATAFORMAS
        let plataformas = [];

        // CONTROLES
        const teclas = {esquerda: false, direita: false, cima: false};
        document.addEventListener('keydown', (e) => {
            if(e.key === 'ArrowLeft') teclas.esquerda = true;
            if(e.key === 'ArrowRight') teclas.direita = true;
            if(e.key === 'ArrowUp' && bola.noChao) {
                bola.velY = bola.pulo;
                bola.noChao = false;
            }
        });
        document.addEventListener('keyup', (e) => {
            if(e.key === 'ArrowLeft') teclas.esquerda = false;
            if(e.key === 'ArrowRight') teclas.direita = false;
        });

        // FUNÇÕES
        function criarPlataforma(x) {
            plataformas.push({
                x: x,
                y: Math.random() * 300 + 120,
                largura: Math.random() * 100 + 80,
                altura: 20
            });
        }

        function colisao(bola, plataforma) {
            return (bola.x - bola.raio < plataforma.x + plataforma.largura &&
                    bola.x + bola.raio > plataforma.x &&
                    bola.y + bola.raio > plataforma.y &&
                    bola.y - bola.raio < plataforma.y + plataforma.altura);
        }

        function resetar() {
            bola.x = 100;
            bola.y = 150;
            bola.velX = 0;
            bola.velY = 0;
            plataformas = [];
            pontos = 0;
            placar.textContent = `Pontuação: ${pontos}`;
            criarPlataforma(50);
            criarPlataforma(250);
            criarPlataforma(450);
            criarPlataforma(650);
        }

        function desenhar() {
            // LIMPA TELA
            pincel.clearRect(0,0,tela.width,tela.height);

            // DESENHA PLATAFORMAS
            pincel.fillStyle = '#32CD32';
            plataformas.forEach(p => {
                pincel.fillRect(p.x, p.y, p.largura, p.altura);
                pincel.strokeStyle = '#228B22';
                pincel.strokeRect(p.x, p.y, p.largura, p.altura);
            });

            // DESENHA LAVA
            pincel.fillStyle = '#FF4500';
            pincel.fillRect(0, lava.y, tela.width, lava.altura);
            pincel.fillStyle = '#FF6347';
            pincel.fillRect(0, lava.y -5, tela.width, 5);

            // DESENHA BOLA
            pincel.beginPath();
            pincel.arc(bola.x, bola.y, bola.raio, 0, Math.PI*2);
            pincel.fillStyle = bola.cor;
            pincel.fill();
            pincel.strokeStyle = '#FFA500';
            pincel.lineWidth = 3;
            pincel.stroke();
        }

        function atualizar() {
            // MOVIMENTO DA BOLA - SÓ SE APERTAR TECLAS!
            bola.velX = 0;
            if(teclas.esquerda && bola.x > bola.raio) bola.velX = -6;
            if(teclas.direita && bola.x < tela.width - bola.raio) bola.velX = 6;

            // GRAVIDADE
            bola.velY += bola.gravidade;
            bola.x += bola.velX;
            bola.y += bola.velY;

            // COLISÕES
            bola.noChao = false;
            plataformas.forEach(p => {
                if(colisao(bola, p) && bola.velY > 0) {
                    bola.y = p.y - bola.raio;
                    bola.velY = 0;
                    bola.noChao = true;
                }
            });

            // PLATAFORMAS INFINITAS
            plataformas.forEach((p, i) => {
                p.x -= velJogo;
                if(p.x + p.largura < 0) {
                    plataformas.splice(i,1);
                    pontos +=10;
                    placar.textContent = `Pontuação: ${pontos}`;
                }
            });

            if(plataformas[plataformas.length-1].x < 600) criarPlataforma(850);

            // RESETA SE CAIR NA LAVA
            if(bola.y + bola.raio > lava.y) resetar();
        }

        function loop() {
            atualizar();
            desenhar();
            requestAnimationFrame(loop);
        }

        // INICIA O JOGO
        resetar();
        loop();
    </script>
</body>
</html>
